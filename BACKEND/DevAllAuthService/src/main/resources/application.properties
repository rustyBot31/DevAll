spring.application.name=AUTH-SERVICE
server.port=8081
api-gateway.port=8080

spring.data.mongodb.uri=${DEVALL_MONGODB_URI}/db_users

eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.instance.hostname=localhost
eureka.instance.prefer-ip-address=true
eureka.instance.instance-id=${spring.application.name}:${server.port}

jwt.secret=${JWT_SECRET}
jwt.expiration=10800000  

spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${DEVALL_EMAIL}
spring.mail.password=${DEVALL_EMAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.debug=true


logging.level.org.springframework.security=DEBUG

# Service Breakers
resilience4j.circuitbreaker.instances.SBreaker.registerHealthIndicator=true
resilience4j.circuitbreaker.instances.SBreaker.slidingWindowSize=10
resilience4j.circuitbreaker.instances.SBreaker.failureRateThreshold=50
resilience4j.circuitbreaker.instances.SBreaker.waitDurationInOpenState=10s
resilience4j.circuitbreaker.instances.SBreaker.permittedNumberOfCallsInHalfOpenState=3
resilience4j.circuitbreaker.instances.SBreaker.minimumNumberOfCalls=5
resilience4j.circuitbreaker.instances.SBreaker.automaticTransitionFromOpenToHalfOpenEnabled=true
resilience4j.circuitbreaker.instances.SBreaker.slidingWindowType=COUNT_BASED

resilience4j.retry.instances.SRetry.maxAttempts=3
resilience4j.retry.instances.SRetry.waitDuration=2s

resilience4j.ratelimiter.instances.SRateLimiter.timeoutDuration=0s
resilience4j.ratelimiter.instances.SRateLimiter.limitForPeriod=4
resilience4j.ratelimiter.instances.SRateLimiter.limitRefreshPeriod=10s

#resilience4j.timelimiter.instances.CPTimeLimiter.timeoutDuration=5s

feign.circuitbreaker.enabled=true


# Actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.health.circuitbreakers.enabled=true
